<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Quiz à Réponses Multiples</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Couleur pour Android (Chrome) -->
<meta name="theme-color" content="#87CEFA">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <style>
@keyframes quizBGAnimation {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
}
    @keyframes gradientBG {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
    }
    @keyframes blink {
  0% { opacity: 1; }
  50% { opacity: 0; }
  100% { opacity: 1; }
}
    @keyframes glow {
  0% {
    box-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
  }
  50% {
    box-shadow: 0 0 20px rgba(255, 255, 255, 1);
  }
  100% {
    box-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
  }
}
    /* Style général pour occuper toute la hauteur */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      background: linear-gradient(-45deg, #87CEFA, #A7C7E7, #66CCFF, #ADD8E6);
      background-size: 400% 400%;
      animation: gradientBG 10s ease infinite;
    }
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    /* Pour simuler un écran de téléphone (fixe à 360px de large) */
    .container {
      background: #fff;
      border: 3px solid #1a73e8;
      padding: 0px 0px;
      width: 360px;       /* Largeur fixe pour reproduire un mobile */
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      text-align: center;
      margin-bottom: 20px;
       overflow: hidden;
    }
    /* Page d'accueil */
    #home {
      position: relative;
     margin-top: 20px;
     background: url('https://i.imgur.com/K5WfEUQ.jpeg') no-repeat center center;
     background-size: cover;
     height: 550px;
     display: flex; /* Active Flexbox */
     flex-direction: column; /* Organise les éléments en colonne */
     align-items: center; /* Centre horizontalement */
     justify-content: center; /* Centre verticalement */
     width: 350px; /* Permet au container de prendre toute la largeur de l'écran */
     flex-shrink: 0; 
    }
    #start-btn {
      border: 3px solid #00FFFF;
      border-radius: 10px;
      width: 110px;  /* Change cette valeur pour ajuster la largeur */
      height: auto;
      padding: 5px 10px;
      background-color: #1E90FF;
      cursor: pointer;
      animation: glow 1.5s infinite ease-in-out;
      transition: transform 0.1s ease, box-shadow 0.1s ease;
    }
    #start-btn:active {
  transform: scale(0.95); /* Réduit légèrement le bouton pour simuler l'effet de pression */
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.7); /* Réduit le glow pendant la pression */
}
    /* Zone du quiz */
    #quiz-container {
      background: linear-gradient(135deg, #A2D9FF, #74B9FF, #4A90E2, #2C3E50);
      background-size: 300% 300%;
      border: solid white;
       border-radius: 10px;
      display: none;
      animation: quizBGAnimation 10s ease infinite;
    }
    .question-counter {
      font-weight: bold;
      margin-bottom: 5px;
      font-family: 'Arial', Arial, sans-serif;
      color: white;
      margin-top: 10px;
    }
    .question-text {
      width: 95%;
      margin: 0 auto;
      font-family: 'Arial Black', Arial, sans-serif;
      font-weight: bold;
      font-size: 18px;
      margin-bottom: 15px;
       color: white;
    text-shadow:
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    3px 3px 5px black;
    }
    .options {
      font-family: Arial, sans-serif;  /* Utilise Arial sans graisse */
     font-weight: normal;  
     font-size: 18px;
     color: white;
     text-shadow:
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000,
    3px 3px 5px black;
      text-align: left;
      margin-bottom: 20px;
      margin-left: 20px;
    }
    .option {
      margin-bottom: 15px;
    }
    .option input[type="checkbox"] {
  display: none;
  width: 40px;            /* Taille de la checkbox */
  height: 40px;
  margin-right: 8px;      /* Espace entre la checkbox et le texte */
  vertical-align: middle; /* Centre verticalement la checkbox par rapport au texte */
  cursor: pointer;
}

.option label {
  position: relative;
  padding-left: 50px;  /* Laisse de l'espace pour l'image */
  cursor: pointer;
  display: inline-block;
  vertical-align: middle;
  font-size: 18px;
  line-height: 40px;  /* Aligne le texte verticalement */
}
    .option label:before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  width: 40px;  /* Taille de l'image */
  height: 40px;
  background: url('https://i.imgur.com/4RkFot0.png') no-repeat center center;  /* Image décochée */
  background-size: cover;
}
    .option input[type="checkbox"]:checked + label:before {
  background: url('https://i.imgur.com/PQs374i.png') no-repeat center center;  /* Image cochée */
  background-size: cover;
}
    #validate-btn {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    /* Zone de résultat de chaque question */
    #result {
      margin-top: 20px;
    }
    .result-image {
      display: block;
      margin: 0 auto;
      max-width: 150px;
    }
    .result-text {
      margin-top: 10px;
      font-size: 18px;
      font-weight: bold;
    }
    .correct-answer-text {
      color: green;
      margin-top: 8px;
    }
    .incorrect-answer-text {
      color: red;
      margin-top: 8px;
    }
    /* Page de résultats finale */
    #result-page {
      display: none;
    }
    #result-page h2 {
      margin-bottom: 20px;
    }
    #restart-btn {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      margin-top: 20px;
    }
    @keyframes floatImage {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
  100% { transform: translateY(0px); }
    }
    .title-image {
     animation: floatImage 3s ease-in-out infinite;    
    }
    .clouding {
       position: absolute;
    margin-bottom: 350px;
         z-index: 0;
      width: 500px;
    }
        .decoring {
          position: absolute;
    margin-top: 100px;    
    }
            .pikachu {
              position: absolute;
    margin-top: 120px;
    z-index: 2;
    }
    .welcome {
    margin-top: -350px;  
        z-index: 1;
    }
    .grassy {
      position: absolute;
      margin-bottom: -180px;
        z-index: 3;
    }
    .startu{
      position: absolute;
      margin-top: 360px;
    }
    .mute-btn {
  position: absolute;
  margin-top: 490px; /* Ajuste cette valeur pour placer le bouton juste en dessous du bouton Start */
  width: 40px;       /* Ajuste la taille si nécessaire */
  cursor: pointer;
}  
  </style>
</head>
<body>
  <audio id="start-sound" src="audio/start.mp3"></audio>
  <audio id="checkbox-sound" src="audio/select.mp3"></audio>


  <!-- Page d'accueil -->
  <div class="container" id="home">
    <img src="https://i.imgur.com/yq5gEEG.png" alt="Welcome" width="80%" class="title-image welcome">
    <img src="https://i.imgur.com/BOaVNTh.gif" alt="clouds" class="clouding">
    <img src="https://i.imgur.com/r168SIR.gif" alt="decor" class="decoring">
    <img src="https://i.imgur.com/jLmstuK.gif" alt="pik" class="pikachu">
    <img src="https://i.imgur.com/ORqzcB0.gif" alt="grass" class="grassy">
    <img src="https://i.imgur.com/yKbGhYw.png" alt="Start" class="startu" id="start-btn">
    <img src="https://i.imgur.com/BXlVlJl.png" alt="Mute" class="mute-btn" id="mute-btn">

  </div>

  <!-- Zone du quiz -->
<div class="container" id="quiz-container">
  <div class="question-counter" id="question-counter">Question 1 sur 3</div>
  <div class="question-text" id="question-text">[Texte de la question]</div>
  <div class="options" id="options">
    <!-- Les options seront générées ici -->
  </div>
  <button id="validate-btn">Valider</button>
  <div id="result"></div>
</div>

  <!-- Page de résultats finale -->
  <div class="container" id="result-page">
    <h2>Résultat du Quiz</h2>
    <p id="final-score">Votre score : 0 sur 3</p>
    <button id="restart-btn">Recommencer</button>
  </div>

  <script>
    // Données du quiz
    const quizData = [
      {
        question: "Quelle(s) couleur(s) sont présentes dans le drapeau français ?",
        options: ["Bleu", "Blanc", "Rouge", "Vert"],
        correctAnswers: ["Bleu", "Blanc", "Rouge"]
      },
      {
        question: "Quels jours composent le weekend ?",
        options: ["Samedi", "Dimanche", "Lundi", "Vendredi"],
        correctAnswers: ["Samedi", "Dimanche"]
      },
      {
        question: "Sélectionnez les fruits :",
        options: ["Pomme", "Carotte", "Banane", "Brocoli"],
        correctAnswers: ["Pomme", "Banane"]
      }
    ];

    let currentQuestion = 0; // Index de la question en cours
    let score = 0; // Nombre de réponses correctes

    // Références aux éléments HTML
    const homeDiv = document.getElementById("home");
    const quizContainer = document.getElementById("quiz-container");
    const startBtn = document.getElementById("start-btn");
    const questionCounter = document.getElementById("question-counter");
    const questionText = document.getElementById("question-text");
    const optionsDiv = document.getElementById("options");
    const validateBtn = document.getElementById("validate-btn");
    const resultDiv = document.getElementById("result");
    const resultPage = document.getElementById("result-page");
    const finalScoreText = document.getElementById("final-score");
    const restartBtn = document.getElementById("restart-btn");

    // Événements
    startBtn.addEventListener("click", startQuiz);
    validateBtn.addEventListener("click", validateAnswer);
    restartBtn.addEventListener("click", restartQuiz);

    // Démarrage du quiz
    function startQuiz() {
      homeDiv.style.display = "none";
      resultPage.style.display = "none";
      quizContainer.style.display = "block";
      currentQuestion = 0;
      score = 0;
      showQuestion();
    }

    // Affiche la question en cours et ses options
   // Affiche la question en cours et ses options avec son lors du clic sur une checkbox
function showQuestion() {
  resultDiv.innerHTML = "";
  // Affichage forcé du bouton Valider pour chaque nouvelle question
  validateBtn.style.display = "inline-block";
  validateBtn.disabled = false;
  
  const data = quizData[currentQuestion];
  questionCounter.textContent = (currentQuestion + 1) + "/" + quizData.length;
  questionText.textContent = data.question;
  optionsDiv.innerHTML = "";
  
  // Création des options avec checkbox et label associé
  data.options.forEach((option, index) => {
    const div = document.createElement("div");
    div.className = "option";

    const checkbox = document.createElement("input");
    checkbox.type = "checkbox";
    checkbox.value = option;
    checkbox.name = "option";
    checkbox.id = "option_" + index;

    // Ajout du son au clic sur la checkbox
    checkbox.addEventListener("click", () => {
      const checkboxSound = document.getElementById("checkbox-sound");
      checkboxSound.currentTime = 0;  // Recommence le son à chaque clic
      checkboxSound.play();  // Joue le son
    });

    const label = document.createElement("label");
    label.textContent = option;
    label.htmlFor = checkbox.id;

    div.appendChild(checkbox);
    div.appendChild(label);
    optionsDiv.appendChild(div);
  });
}
   // Vérifie la réponse de l'utilisateur
    function validateAnswer() {
      const data = quizData[currentQuestion];
      const selectedOptions = Array.from(document.querySelectorAll('input[name="option"]:checked'))
                                  .map(el => el.value);
      // Si aucune option n'est sélectionnée, afficher un popup et ne rien faire
      if (selectedOptions.length === 0) {
        alert("Veuillez sélectionner au moins une réponse");
        return;
      }
      
      // Pour la comparaison, utiliser des copies triées
      const sortedSelectedOptions = selectedOptions.slice().sort();
      const sortedCorrectAnswers = data.correctAnswers.slice().sort();
      const isCorrect = arraysEqual(sortedSelectedOptions, sortedCorrectAnswers);
      
      // Masquer le bouton de validation pour la question courante
      validateBtn.style.display = "none";

      if (isCorrect) {
        score++; // Incrémenter le score pour une réponse correcte
        // Afficher l'image "Correct"
        resultDiv.innerHTML = `<img src="https://via.placeholder.com/150/00FF00?text=Correct" alt="Correct" class="result-image">`;
      } else {
        // Pour afficher les bonnes réponses dans l'ordre des options,
        // on filtre l'array data.options pour ne retenir que celles qui sont dans data.correctAnswers.
        const correctAnswersInOrder = data.options.filter(option => data.correctAnswers.includes(option));
        resultDiv.innerHTML = `
          <img src="https://via.placeholder.com/150/FF0000?text=Incorrect" alt="Incorrect" class="result-image">
          <div class="result-text">Réponse :</div>
          <div class="incorrect-answer-text">${correctAnswersInOrder.join(", ")}</div>
        `;
      }
      
      // Après un délai, passer à la question suivante ou afficher la page de résultats
      setTimeout(() => {
        currentQuestion++;
        if (currentQuestion < quizData.length) {
          showQuestion();
        } else {
          showResultPage();
        }
      }, 2000);
    }

    // Affiche la page de résultats finale
    function showResultPage() {
      quizContainer.style.display = "none";
      finalScoreText.textContent = "Votre score : " + score + " sur " + quizData.length;
      resultPage.style.display = "block";
    }

    // Redémarre le quiz en revenant à la page d'accueil
    function restartQuiz() {
      resultPage.style.display = "none";
      homeDiv.style.display = "block";
    }

    // Fonction utilitaire pour comparer deux tableaux (ordre non important)
    function arraysEqual(arr1, arr2) {
      if (arr1.length !== arr2.length) return false;
      for (let i = 0; i < arr1.length; i++) {
        if (arr1[i] !== arr2[i]) return false;
      }
      return true;
    }
  const muteBtn = document.getElementById("mute-btn");
let isMuted = false;

muteBtn.addEventListener("click", () => {
  isMuted = !isMuted;
  if (isMuted) {
    // Mute le son
    document.querySelectorAll('audio, video').forEach(media => media.muted = true);
    // Change l'image pour l'état muet
    muteBtn.src = "https://i.imgur.com/pXbvxY4.png"; // Remplace par l'image du mute
  } else {
    // Active le son
    document.querySelectorAll('audio, video').forEach(media => media.muted = false);
    // Remet l'image du son activé
    muteBtn.src = "https://i.imgur.com/3WSvsVf.png"; // Image du son activé
  }
});

    function startQuiz() {
  const startSound = document.getElementById("start-sound");
  startSound.play();  // Joue le son au clic
  
  startBtn.style.animation = "blink 0.3s infinite";  // Démarre le clignotement rapide

  setTimeout(() => {
    startBtn.style.animation = "";  // Arrête le clignotement après 3 secondes
    homeDiv.style.display = "none";
    resultPage.style.display = "none";
    quizContainer.style.display = "block";
    currentQuestion = 0;
    score = 0;
    showQuestion();
  }, 2500);  
}
  </script>
</body>
</html>
